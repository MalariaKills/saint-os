modules:
  # Development tooling is now managed in a Fedora distrobox container
  # (see docs/DEV_IN_CONTAINER.md and scripts/setup-fedora-distrobox.sh)

  # Core system packages and utilities
  - type: rpm-ostree
    repos:
      - https://copr.fedorainfracloud.org/coprs/scottames/ghostty/repo/fedora-%OS_VERSION%/scottames-ghostty-fedora-%OS_VERSION%.repo
      - https://copr.fedorainfracloud.org/coprs/atim/starship/repo/fedora-%OS_VERSION%/atim-starship-fedora-%OS_VERSION%.repo
      - https://copr.fedorainfracloud.org/coprs/wezfurlong/wezterm-nightly/repo/fedora-%OS_VERSION%/wezfurlong-wezterm-nightly-fedora-%OS_VERSION%.repo
      - https://repository.mullvad.net/rpm/stable/mullvad.repo
    install:
      # Shell & Terminal
      - bat # Syntax highlighting for cat
      - btop
      - dialog
      - fastfetch
      - fish
      - starship # Cross-shell prompt
      - dash # POSIX-compliant system shell that is up to 4x faster than bash
      - stow
      - yad
      - neovim
      - fzf # Fuzzy finder
      - zoxide # Smarter cd command with frecency-based directory jumping
      - ghostty # Terminal emulator with enhanced features written in zig
      - wezterm # Terminal emulator (configured with Fish, Monaspace fonts)
      - tealdeer # Fast tldr client for simplified command examples
      - ripgrep # Fast grep replacement
      - fd-find # Better find command
      - tmux # Terminal multiplexer

      # Fonts
      - jetbrains-mono-fonts-all # JetBrains Mono with Nerd Font symbols
      - fira-code-fonts # Popular coding font with ligatures
      - google-noto-sans-fonts # Universal font coverage
      - google-noto-emoji-fonts # Emoji support

      # GUI Applications
      - gnome-disk-utility

      # P2P File Sharing
      - nicotine+ # Soulseek client - no reliable flatpak available

      # KDE Applications
      # Note: Some KDE apps are also available as flatpaks in common-flatpaks.yml
      - dolphin # KDE file manager
      - konsole # KDE terminal (alternative to ghostty)
      - spectacle # KDE screenshot tool
      - kate # KDE text editor
      - kwallet # KDE credential storage
      - kwalletmanager5 # KDE wallet GUI manager (KF5 version)

      # Keyring/Secret Management
      - libsecret # Provides org.freedesktop.secrets API for apps like VSCode

      # System utilities
      - lm_sensors # Hardware monitoring
      - htop # Process viewer
      - rsync # File synchronization
      - tree # Directory tree viewer
      - unzip # Archive extraction
      - zip # Archive creation
      - curl # HTTP client
      - wget # File downloader
      - jq # JSON processor
      - yq # YAML processor

      # VPN
      - tailscale # Zero-config VPN
      - mullvad-vpn # Privacy-focused VPN client

      # Remote Desktop
      - rustdesk # Open-source remote desktop

  # Virtualization
  - type: rpm-ostree
    install:
      # Virtualization
      - guestfs-tools
      - gnome-boxes
      - libvirt
      - libvirt-daemon-config-network
      - libvirt-daemon-kvm
      - nmap-ncat
      - qemu-kvm
      - remmina
      - spice-gtk
      - swtpm
      - virt-install
      - virt-manager
      - virt-top
      - virt-viewer
      - edk2-ovmf

      # Note: development languages, editors and CLI tooling (go, python, node,
      # editors like VS Code, linters, etc.) have been removed from the
      # system image and should be installed inside a Fedora distrobox. See
      # docs/DEV_IN_CONTAINER.md for setup and a convenience script in
      # scripts/setup-fedora-distrobox.sh.
      - libguestfs
      - docker
      - docker-compose
      - git

  # Enable virtualization and container services
  - type: systemd
    system:
      enabled:
        - docker.service
        - libvirtd.service
